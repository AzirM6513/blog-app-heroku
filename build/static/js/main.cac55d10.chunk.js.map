{"version":3,"sources":["components/Error.js","components/LoginForm.js","services/users.js","components/Blog.js","components/Notification.js","components/Blogs.js","services/blogs.js","services/login.js","components/BlogForm.js","App.js","index.js"],"names":["Error","message","className","useStyles","makeStyles","loginBtn","marginTop","LoginForm","login","errorMessage","useState","username","setUsername","password","setPassword","handleLogin","event","a","preventDefault","classes","Grid","style","alignContent","direction","container","Typography","variant","component","gutterBottom","onSubmit","TextField","label","value","onChange","target","type","Button","color","getUserById","userId","axios","get","res","data","marginBottom","content","MarginBottom","links","textDecoration","smallMarginBottom","deleteBtn","commentHeader","comments","comment","listStyle","Blog","blog","updateBlog","removeBlog","showDetails","setShowDetails","newComment","setNewComment","showWhenVisible","display","toggleDetails","addLike","newBlog","user","likes","dislikes","author","title","url","id","addDislike","deleteBlog","window","confirm","Object","keys","includes","userService","Head","onClick","CardActions","size","fontSize","CommentSection","map","i","Info","href","Card","raised","CardContent","e","blogObject","concat","Notification","Blogs","blogs","Container","maxWidth","baseUrl","token","getAll","then","setToken","newToken","create","newObject","config","headers","Authorization","post","update","put","deleteById","delete","status","credentials","BlogForm","createBlog","setTitle","setAuthor","setUrl","addBlog","textAlign","justify","App","setBlogs","setErrorMessage","visible","setVisible","setUser","useEffect","blogService","loggedUserJSON","localStorage","getItem","JSON","parse","loginService","setItem","stringify","setTimeout","handleLogout","removeItem","name","returnedBlog","filter","console","log","AppBar","position","Toolbar","IconButton","data-bs-toggle","data-bs-target","document","getElementById","classList","add","remove","sort","b","ReactDOM","render"],"mappings":"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","file":"static/js/main.cac55d10.chunk.js","sourcesContent":["import React from 'react';\n\nconst Error = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <h3 className='message error-message'>{message}</h3>;\n};\n\nexport default Error;\n","import React, { useState } from 'react';\nimport Error from './Error';\n\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles({\n  loginBtn: {\n    marginTop: 0.8 + 'rem',\n  },\n});\n\nconst LoginForm = ({ login, errorMessage }) => {\n  const [username, setUsername] = useState('root');\n  const [password, setPassword] = useState('sekret');\n\n  const handleLogin = async (event) => {\n    event.preventDefault();\n\n    login(username, password);\n\n    setUsername('');\n    setPassword('');\n  };\n\n  const classes = useStyles();\n\n  return (\n    <Grid\n      style={{ marginTop: 15 + '%' }}\n      alignContent='center'\n      direction='column'\n      container\n    >\n      <Typography variant='h4' component='h2' gutterBottom>\n        Login to Application\n      </Typography>\n      <Error message={errorMessage} />\n      <form onSubmit={handleLogin}>\n        <div>\n          <TextField\n            label='Username'\n            value={username}\n            onChange={({ target }) => setUsername(target.value)}\n          />\n        </div>\n        <div>\n          <TextField\n            label='Password'\n            type='password'\n            value={password}\n            onChange={({ target }) => setPassword(target.value)}\n          />\n        </div>\n        <Button type='submit' className={classes.loginBtn} color='primary'>\n          login\n        </Button>\n      </form>\n    </Grid>\n  );\n};\n\nLoginForm.propTypes = {\n  login: PropTypes.func.isRequired,\n};\n\nexport default LoginForm;\n","import axios from 'axios';\n\nconst baseUrl = '/api/users';\n\nconst getUserById = async (userId) => {\n  const res = await axios.get(`${baseUrl}/${userId}`);\n  return res.data;\n};\n\nexport default { getUserById };\n","import React, { useState } from 'react';\nimport userService from '../services/users';\n\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core';\n\nimport ThumbDownAltOutlined from '@material-ui/icons/ThumbDownAltOutlined';\nimport ThumbUpAltOutlined from '@material-ui/icons/ThumbUpAltOutlined';\n\nconst useStyles = makeStyles({\n  gutterBottom: {\n    marginBottom: 0.8 + 'rem',\n  },\n  content: {\n    marginTop: 1.2 + 'rem',\n    MarginBottom: 1.2 + 'rem',\n  },\n  links: {\n    textDecoration: 'none',\n    color: '#636363',\n    '&:hover': {\n      color: 'black',\n    },\n  },\n  smallMarginBottom: {\n    marginBottom: 0.2 + 'rem',\n  },\n  deleteBtn: {\n    marginTop: 0.6 + 'rem',\n  },\n  commentHeader: {\n    marginTop: 0.6 + 'rem',\n    marginBottom: 0.3 + 'rem',\n  },\n  comments: {\n    marginBottom: 0.6 + 'rem',\n  },\n  comment: {\n    listStyle: 'disc',\n  },\n});\n\nconst Blog = ({ blog, updateBlog, removeBlog }) => {\n  const [showDetails, setShowDetails] = useState(false);\n  const [newComment, setNewComment] = useState('');\n  const showWhenVisible = { display: showDetails ? '' : 'none' };\n\n  let username = null;\n\n  const toggleDetails = () => {\n    setShowDetails(!showDetails);\n  };\n\n  const addLike = () => {\n    const newBlog = {\n      user: blog.user,\n      likes: blog.likes + 1,\n      dislikes: blog.dislikes,\n      author: blog.author,\n      title: blog.title,\n      url: blog.url,\n      id: blog.id,\n      comments: blog.comments,\n    };\n\n    updateBlog(newBlog);\n  };\n\n  const addDislike = () => {\n    const newBlog = {\n      user: blog.user,\n      likes: blog.likes,\n      dislikes: blog.dislikes + 1,\n      author: blog.author,\n      title: blog.title,\n      url: blog.url,\n      id: blog.id,\n      comments: blog.comments,\n    };\n\n    updateBlog(newBlog);\n  };\n\n  const deleteBlog = () => {\n    if (window.confirm(`remove blog '${blog.title}' by ${blog.author}?`)) {\n      removeBlog(blog);\n    }\n  };\n\n  if (Object.keys(blog).includes('user')) {\n    username = userService.getUserById(blog.user).username;\n  }\n\n  const Head = () => (\n    <>\n      <Typography variant='h5' onClick={toggleDetails} className='blog-title'>\n        {blog.title}\n      </Typography>\n\n      <CardActions>\n        <Button size='small' onClick={addLike} color='primary'>\n          <ThumbUpAltOutlined fontSize='small' />\n          {blog.likes}\n        </Button>\n\n        <Button size='small' onClick={addDislike} color='secondary'>\n          <ThumbDownAltOutlined fontSize='small' />\n          {blog.dislikes}\n        </Button>\n      </CardActions>\n    </>\n  );\n\n  const addComment = (e) => {\n    e.preventDefault();\n    const blogObject = {\n      user: blog.user,\n      likes: blog.likes,\n      dislikes: blog.dislikes,\n      author: blog.author,\n      title: blog.title,\n      url: blog.url,\n      id: blog.id,\n      comments: blog.comments.concat(newComment),\n    };\n\n    updateBlog(blogObject);\n    setNewComment('');\n  };\n\n  const CommentSection = () => (\n    <div style={showWhenVisible}>\n      <Typography variant='h6' className={classes.commentHeader}>\n        Comments\n      </Typography>\n      <ul>\n        {blog.comments.map((comment, i) => (\n          <li key={i} className={classes.comment}>\n            {comment}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n\n  const Info = () => (\n    <div style={showWhenVisible} className={classes.content}>\n      <Typography variant='body1'>\n        <a href={blog.url} className={(classes.marginBottom, classes.links)}>\n          read more\n        </a>\n      </Typography>\n      <Typography variant='body1' color='textPrimary'>\n        Posted by {blog.author || username}\n      </Typography>\n      <Button\n        onClick={deleteBlog}\n        color='secondary'\n        variant='contained'\n        className={classes.deleteBtn}\n      >\n        delete\n      </Button>\n    </div>\n  );\n\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.gutterBottom} raised>\n      <CardContent>\n        <Head />\n        <CommentSection />\n        <form onSubmit={addComment} style={showWhenVisible}>\n          <TextField\n            className={classes.comments}\n            label='New Comment'\n            type='text'\n            value={newComment}\n            onChange={({ target }) => setNewComment(target.value)}\n          ></TextField>\n        </form>\n        <Info />\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default Blog;\n","import React from 'react';\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <h3 className='message success-message'>{message}</h3>;\n};\n\nexport default Notification;\n","import React from 'react';\n\nimport Blog from './Blog';\nimport Notification from './Notification';\n\nimport Container from '@material-ui/core/Container';\n\nconst Blogs = ({ blogs, errorMessage, updateBlog, removeBlog }) => {\n  return (\n    <Container maxWidth='md'>\n      <Notification message={errorMessage} />\n      <ul className='mt-3'>\n        {blogs.map((blog) => (\n          <Blog\n            key={blog.id}\n            blog={blog}\n            updateBlog={updateBlog}\n            removeBlog={removeBlog}\n          />\n        ))}\n      </ul>\n    </Container>\n  );\n};\n\nexport default Blogs;\n","import axios from 'axios';\n\nconst baseUrl = '/api/blogs';\nlet token = null;\n\nconst setToken = (newToken) => {\n  token = `bearer ${newToken}`;\n};\n\nconst getAll = () => {\n  const req = axios.get(baseUrl);\n  return req.then((res) => res.data);\n};\n\nconst create = async (newObject) => {\n  const config = {\n    headers: { Authorization: token },\n  };\n\n  const res = await axios.post(baseUrl, newObject, config);\n  return res.data;\n};\n\nconst update = async (newObject) => {\n  const config = {\n    headers: { Authorization: token },\n  };\n\n  const res = await axios.put(`${baseUrl}/${newObject.id}`, newObject, config);\n  return res.data;\n};\n\nconst deleteById = async (id) => {\n  const config = {\n    headers: { Authorization: token },\n  };\n\n  const res = await axios.delete(`${baseUrl}/${id}`, config);\n  return res.status;\n};\n\nexport default { getAll, setToken, create, update, deleteById };\n","import axios from 'axios';\n\nconst baseUrl = '/api/login';\n\nconst login = async (credentials) => {\n  const res = await axios.post(baseUrl, credentials);\n  return res.data;\n};\n\nexport default { login };\n","import { Grid, TextField, Button } from '@material-ui/core';\nimport React, { useState } from 'react';\n\nconst BlogForm = ({ createBlog }) => {\n  const [title, setTitle] = useState('');\n  const [author, setAuthor] = useState('');\n  const [url, setUrl] = useState('');\n\n  const addBlog = async (event) => {\n    event.preventDefault();\n    const blogObject = {\n      title: title,\n      author: author,\n      url: url,\n    };\n\n    createBlog(blogObject);\n\n    setAuthor('');\n    setTitle('');\n    setUrl('');\n  };\n\n  return (\n    <div id='form' className='hidden'>\n      <h2 style={{ textAlign: 'center' }}>Create New</h2>\n      <Grid justify='center' container>\n        <form onSubmit={addBlog}>\n          <div>\n            <TextField\n              label='Title'\n              type='text'\n              value={title}\n              onChange={({ target }) => setTitle(target.value)}\n            />\n          </div>\n\n          <div>\n            <TextField\n              label='Author'\n              type='text'\n              value={author}\n              onChange={({ target }) => setAuthor(target.value)}\n            />\n          </div>\n\n          <div>\n            <TextField\n              label='Url'\n              type='text'\n              value={url}\n              onChange={({ target }) => setUrl(target.value)}\n            />\n          </div>\n\n          <Button type='submit' color='primary'>\n            create\n          </Button>\n        </form>\n      </Grid>\n    </div>\n  );\n};\n\nexport default BlogForm;\n","import React, { useState, useEffect } from 'react';\n\nimport LoginForm from './components/LoginForm';\nimport Blogs from './components/Blogs';\n\nimport blogService from './services/blogs';\nimport loginService from './services/login';\n\nimport Button from '@material-ui/core/Button';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport BlogForm from './components/BlogForm';\nimport Typography from '@material-ui/core/Typography';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { IconButton } from '@material-ui/core';\n\nconst App = () => {\n  const [blogs, setBlogs] = useState([]);\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [visible, setVisible] = useState(false);\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    blogService.getAll().then((blogs) => setBlogs(blogs));\n  }, []);\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogAppUser');\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON);\n      setUser(user);\n\n      blogService.setToken(user.token);\n    }\n  }, []);\n\n  const handleLogin = async (username, password) => {\n    try {\n      const user = await loginService.login({\n        username,\n        password,\n      });\n\n      window.localStorage.setItem('loggedBlogAppUser', JSON.stringify(user));\n\n      blogService.setToken(user.token);\n\n      setUser(user);\n    } catch (exception) {\n      setErrorMessage('Wrong Username or Password');\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 5000);\n    }\n  };\n\n  const handleLogout = () => {\n    setUser(null);\n    blogService.setToken(null);\n\n    window.localStorage.removeItem('loggedBlogAppUser');\n  };\n\n  const addBlog = async (blog) => {\n    if (blog.author === '') {\n      blog.author = user.name;\n    }\n\n    const returnedBlog = await blogService.create(blog);\n    setBlogs(blogs.concat(returnedBlog));\n\n    setErrorMessage(\n      `a new blog '${returnedBlog.title}' by ${returnedBlog.author} added`\n    );\n    setTimeout(() => {\n      setErrorMessage(null);\n    }, 5000);\n  };\n\n  const updateBlog = async (blog) => {\n    const returnedBlog = await blogService.update(blog);\n    setBlogs(blogs.filter((post) => post.id !== blog.id).concat(returnedBlog));\n  };\n\n  const removeBlog = async (blog) => {\n    try {\n      console.log(blog.id);\n      await blogService.deleteById(blog.id);\n      setBlogs(blogs.filter((post) => post.id !== blog.id));\n\n      setErrorMessage(`blog '${blog.title}' was removed`);\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 5000);\n    } catch (exception) {\n      // fix me: correctly display red or green if failed or success\n\n      setErrorMessage(`failed to delete blog '${blog.title}'`);\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 5000);\n    }\n  };\n\n  const toggleForm = () => {\n    if (visible) {\n      document.getElementById('form').classList.add('hidden');\n      setVisible(false);\n      return;\n    }\n\n    document.getElementById('form').classList.remove('hidden');\n    setVisible(true);\n  };\n\n  return (\n    <div>\n      {user === null ? (\n        <div>\n          <LoginForm login={handleLogin} errorMessage={errorMessage} />\n        </div>\n      ) : (\n        <div>\n          <AppBar position='static'>\n            <Toolbar className='navbar navbar-expand-sm'>\n              <Typography variant='h6'>Blog App</Typography>\n              <IconButton\n                type='button'\n                data-bs-toggle='collapse'\n                data-bs-target='#navbarNav'\n                className='navbar-toggler'\n              >\n                <MenuIcon style={{ color: 'white' }}></MenuIcon>\n              </IconButton>\n              <div\n                className='collapse navbar-collapse nav-container'\n                id='navbarNav'\n              >\n                <ul className='navbar-nav'>\n                  <li className='nav-item active'>\n                    <Button className='nav-link' color='inherit'>\n                      home\n                    </Button>\n                  </li>\n                  <li className='nav-item'>\n                    <Button\n                      className='nav-link'\n                      color='inherit'\n                      onClick={toggleForm}\n                    >\n                      create\n                    </Button>\n                  </li>\n                  <li className='nav-item'>\n                    <Button className='nav-link' color='inherit'>\n                      users\n                    </Button>\n                  </li>\n                  <li className='nav-item'>\n                    <Button\n                      className='nav-link'\n                      color='inherit'\n                      onClick={handleLogout}\n                    >\n                      logout\n                    </Button>\n                  </li>\n                </ul>\n              </div>\n            </Toolbar>\n          </AppBar>\n          <BlogForm createBlog={addBlog} />\n          <Blogs\n            blogs={blogs.sort(\n              (a, b) => b.likes - b.dislikes - (a.likes - a.dislikes)\n            )}\n            user={user}\n            handleLogout={handleLogout}\n            errorMessage={errorMessage}\n            addBlog={addBlog}\n            updateBlog={updateBlog}\n            removeBlog={removeBlog}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}