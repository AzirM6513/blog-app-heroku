{"version":3,"sources":["components/LoginForm.js","components/Blog.js","components/Blogs.js","services/blogs.js","services/login.js","App.js","index.js"],"names":["LoginForm","loginObj","handleLogin","username","password","setUsername","setPassword","onSubmit","type","value","name","onChange","target","Blog","blog","title","author","Blogs","blogs","user","map","id","axios","get","then","res","data","newToken","login","credentials","a","post","App","useState","setBlogs","setUser","useEffect","blogService","event","preventDefault","loginService","window","localStorage","setItem","JSON","stringify","token","console","log","ReactDOM","render","document","getElementById"],"mappings":"qMAuCeA,EArCG,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAGjBC,EAKED,EALFC,YACAC,EAIEF,EAJFE,SACAC,EAGEH,EAHFG,SACAC,EAEEJ,EAFFI,YACAC,EACEL,EADFK,YAEF,OACE,gCACE,sDACA,uBAAMC,SAAUL,EAAhB,UACE,2CAEE,uBACEM,KAAK,OACLC,MAAON,EACPO,KAAK,WACLC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBP,EAAYO,EAAOH,aAGjD,2CAEE,uBACED,KAAK,WACLC,MAAOL,EACPM,KAAK,WACLC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBN,EAAYM,EAAOH,aAGjD,wBAAQD,KAAK,SAAb,0BC1BOK,EANF,SAAC,GAAD,IAAEC,EAAF,EAAEA,KAAF,OACX,gCACGA,EAAKC,MADR,IACgBD,EAAKE,WCYRC,EAZD,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,KACtB,OACE,gCACE,uCACA,8BAAIA,EAAKT,KAAT,gBACCQ,EAAME,KAAI,SAACN,GAAD,OACT,cAAC,EAAD,CAAoBA,KAAMA,GAAfA,EAAKO,W,gBCKT,EALA,WAEb,OADYC,IAAMC,IARJ,cASHC,MAAK,SAACC,GAAD,OAASA,EAAIC,SAGhB,EATE,SAACC,GACX,iBAAaA,ICGL,GAAEC,MALN,uCAAG,WAAOC,GAAP,eAAAC,EAAA,sEACMR,IAAMS,KAHV,aAGwBF,GAD1B,cACNJ,EADM,yBAELA,EAAIC,MAFC,2CAAH,uDCyDIM,EArDH,WAAO,IAAD,EACUC,mBAAS,IADnB,mBACTf,EADS,KACFgB,EADE,OAEwBD,oBAAS,GAFjC,gCAIgBA,mBAAS,KAJzB,mBAIT9B,EAJS,KAICE,EAJD,OAKgB4B,mBAAS,IALzB,mBAKT7B,EALS,KAKCE,EALD,OAMQ2B,mBAAS,MANjB,mBAMTd,EANS,KAMHgB,EANG,KAQhBC,qBAAU,WACRC,IAAqBb,MAAK,SAACN,GAAD,OAAWgB,EAAShB,QAC7C,IAEH,IAsBMjB,EAAW,CACfC,YAvBe,uCAAG,WAAOoC,GAAP,eAAAR,EAAA,6DAClBQ,EAAMC,iBADY,kBAIGC,EAAaZ,MAAM,CACpCzB,WACAC,aANc,OAIVe,EAJU,OAShBsB,OAAOC,aAAaC,QAAQ,oBAAqBC,KAAKC,UAAU1B,IAEhEkB,EAAqBlB,EAAK2B,OAE1BX,EAAQhB,GAERd,EAAY,IACZC,EAAY,IAhBI,kDAkBhByC,QAAQC,IAAI,qBAlBI,0DAAH,sDAwBf7C,WACAC,WACAC,cACAC,eAGF,OACE,8BACY,OAATa,EACC,cAAC,EAAD,CAAWlB,SAAUA,IAErB,cAAC,EAAD,CAAOiB,MAAOA,EAAOC,KAAMA,OCnDnC8B,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.5367325c.chunk.js","sourcesContent":["import React from 'react';\n\nconst LoginForm = ({ loginObj }) => {\n  // fixme: should destructure in function params\n  const {\n    handleLogin,\n    username,\n    password,\n    setUsername,\n    setPassword,\n  } = loginObj;\n  return (\n    <div>\n      <h2>login to application</h2>\n      <form onSubmit={handleLogin}>\n        <div>\n          username\n          <input\n            type='text'\n            value={username}\n            name='Username'\n            onChange={({ target }) => setUsername(target.value)}\n          />\n        </div>\n        <div>\n          password\n          <input\n            type='password'\n            value={password}\n            name='Password'\n            onChange={({ target }) => setPassword(target.value)}\n          />\n        </div>\n        <button type='submit'>login</button>\n      </form>\n    </div>\n  );\n};\n\nexport default LoginForm;\n","import React from 'react'\nconst Blog = ({blog}) => (\n  <div>\n    {blog.title} {blog.author}\n  </div>  \n)\n\nexport default Blog","import React from 'react';\nimport Blog from './Blog';\n\nconst Blogs = ({ blogs, user }) => {\n  return (\n    <div>\n      <h2>Blogs</h2>\n      <p>{user.name} logged-in</p>\n      {blogs.map((blog) => (\n        <Blog key={blog.id} blog={blog} />\n      ))}\n    </div>\n  );\n};\n\nexport default Blogs;\n","import axios from 'axios';\n\nconst baseUrl = '/api/blogs';\nlet token = null;\n\nconst setToken = (newToken) => {\n  token = `bearer ${newToken}`;\n};\n\nconst getAll = () => {\n  const req = axios.get(baseUrl);\n  return req.then((res) => res.data);\n};\n\nexport default { getAll, setToken };\n","import axios from 'axios';\n\nconst baseUrl = '/api/login';\n\nconst login = async (credentials) => {\n  const res = await axios.post(baseUrl, credentials);\n  return res.data;\n};\n\nexport default { login };\n","import React, { useState, useEffect } from 'react';\n\nimport LoginForm from './components/LoginForm';\nimport Blogs from './components/Blogs';\n\nimport blogService from './services/blogs';\nimport loginService from './services/login';\n\nconst App = () => {\n  const [blogs, setBlogs] = useState([]);\n  const [errorMessage, setErrorMessage] = useState(false);\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    blogService.getAll().then((blogs) => setBlogs(blogs));\n  }, []);\n\n  const handleLogin = async (event) => {\n    event.preventDefault();\n\n    try {\n      const user = await loginService.login({\n        username,\n        password,\n      });\n\n      window.localStorage.setItem('loggedBlogAppUser', JSON.stringify(user));\n\n      blogService.setToken(user.token);\n\n      setUser(user);\n\n      setUsername('');\n      setPassword('');\n    } catch (exception) {\n      console.log('Wrong credentials');\n    }\n  };\n\n  const loginObj = {\n    handleLogin,\n    username,\n    password,\n    setUsername,\n    setPassword,\n  };\n\n  return (\n    <div>\n      {user === null ? (\n        <LoginForm loginObj={loginObj} />\n      ) : (\n        <Blogs blogs={blogs} user={user} />\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}